# Selenium Java æ•™ç¨‹

> åŸæ–‡ï¼š [https://javatutorial.net/selenium-java-tutorial](https://javatutorial.net/selenium-java-tutorial)

æœ¬æ•™ç¨‹å°†è¯´æ˜å¦‚ä½•ä½¿ç”¨ Java è¿è¡Œ Selenium WebDriver

[Selenium](http://www.seleniumhq.org/ "Selenium") æ˜¯ç”¨äºæµ‹è¯• Web åº”ç”¨ç¨‹åºçš„å¼ºå¤§æ¡†æ¶ã€‚ ä½¿ç”¨ Seleniumï¼Œæ‚¨å¯ä»¥è‡ªåŠ¨æµè§ˆï¼Œå•å‡»å’Œæäº¤ç½‘é¡µä¸Šçš„è¡¨å•ã€‚ å¯¹ç½‘ç»œåº”ç”¨ç¨‹åºè¿›è¡Œæ›´æ”¹åï¼Œæœ€å¥½é€šè¿‡ä¸€äº›æ‰‹åŠ¨å’Œè‡ªåŠ¨æµ‹è¯•æ¥è¿è¡Œå®ƒå¹¶éªŒè¯ä¸€åˆ‡æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚ æœ¬æ•™ç¨‹å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Java ç¼–ç¨‹è¯­è¨€ç¼–å†™æµ‹è¯•è„šæœ¬ã€‚ æˆ‘å‡è®¾æ‚¨å·²ç»å¯¹ Java æœ‰ä¸€å®šçš„ç»éªŒã€‚ å¦‚æœæ²¡æœ‰é˜…è¯»ï¼Œè¯·å…ˆé˜…è¯»æˆ‘ä»¬çš„ [Java åˆå­¦è€…æ•™ç¨‹](http://javatutorial.net/category/java-basics "Java Beginner Tutorials")ã€‚

## Selenium Maven æ„å»º

å¦‚æœæ‚¨ä½¿ç”¨ [Maven](https://javatutorial.net/how-to-install-maven-on-windows-linux-and-mac) æ¥æ„å»ºé¡¹ç›®ï¼Œè¯·åœ¨`.pom`æ–‡ä»¶ä¸­ä½¿ç”¨ä»¥ä¸‹ä¾èµ–é¡¹

```java
<dependency>
    <groupId>org.seleniumhq.selenium</groupId>
    <artifactId>selenium-java</artifactId>
    <version>2.44.0</version>
</dependency>
```

## `Selenium.jar`æ–‡ä»¶

å¦‚æœæ‚¨å–œæ¬¢è€å¼çš„æ–¹æ³•ï¼Œåˆ™å¿…é¡»ä» Selenium ç½‘ç«™ä¸‹è½½æ‰€éœ€çš„`.jar`ã€‚

1. è½¬åˆ°[ Selenium ä¸‹è½½é¡µé¢](http://www.seleniumhq.org/download/)

2. ä¸‹è½½ Java 2.xx zip æ–‡ä»¶

    ![selenium-download](img/0b2e62580b3821ca7a88d5071d40038e.jpg)

3. å°†`selenium-java-2.44.0.jar`å’Œæ‰€æœ‰ jar ä»`libs`æ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ‚¨çš„é¡¹ç›®ä¸­

## Selenium æ§åˆ¶å°ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ªåŸºæœ¬çš„ Selenium Java ç¤ºä¾‹ã€‚ å®ƒä½¿ç”¨é»˜è®¤çš„`HtmlUnitDriver`ä»¥ç±»ä¼¼æ§åˆ¶å°çš„æ ·å¼æå–é¡µé¢æ ‡é¢˜ã€‚

```java
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.htmlunit.HtmlUnitDriver;

public class SeleniumConsoleExample {
	public static void main(String[] args) {
		// Create HTML Unit Driver - this is the build in Selenium client
        	WebDriver driver = new HtmlUnitDriver();

        	// go to url
        	driver.get("http://javatutorial.net");

        	// Check the title of the page
        	System.out.println("Page title is: " + driver.getTitle());

        	driver.quit();
	}
}
```

## Selenium Firefox ç¤ºä¾‹

åœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæ‚¨å°†éœ€è¦ Selenium ä¸åŠ¨æ€åˆ›å»ºçš„å…ƒç´ ä¸€èµ·ä½¿ç”¨ã€‚ ä¸ºæ­¤ï¼Œæ‚¨å°†éœ€è¦ä¸€ä¸ªç±»ä¼¼ Firefox æˆ– Google Chrome çš„æµè§ˆå™¨çª—å£ã€‚

ä»¥ä¸‹ç¤ºä¾‹éœ€è¦åœ¨é»˜è®¤ä½ç½®å®‰è£… Firefox Web æµè§ˆå™¨ã€‚

1. Selenium å°†æ‰“å¼€ä¸€ä¸ªå•ç‹¬çš„ Firefox çª—å£å¹¶è½¬åˆ° https://javatutorial.net

2. æŸ¥çœ‹æ­¤é¡µé¢é¡¶éƒ¨çš„æœç´¢æŒ‰é’®ï¼ˆæ”¾å¤§é•œï¼‰ï¼Œæ˜¯ - å½“å‰æ­£åœ¨é˜…è¯»çš„é¡µé¢é¡¶éƒ¨ ğŸ™‚ Selenium å°†å…‰æ ‡ç§»è‡³è¯¥ä½ç½®ä»¥æ˜¾ç¤ºæœç´¢å­—æ®µ

3. å®ƒå°†è¾“å…¥æœç´¢è¯â€œjavaâ€å¹¶æäº¤è¡¨æ ¼

4. ç­‰å¾… 5 ç§’é’Ÿï¼Œç„¶åå…³é—­æµè§ˆå™¨çª—å£

```java
import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class SeleniumFirefoxExample {
	public static void main(String[] args) throws Exception {
		// create a Firefox Web Driver
		WebDriver driver = new FirefoxDriver();
		// open the browser and go to JavaTutorial Network Website
		driver.get("https://javatutorial.net");

		// find the search button on the page
		WebElement searchButton = driver.findElement(By
				.className("search-submit"));
		// create an action handler
		Actions actions = new Actions(driver);
		// use the action handler to move the cursor to given element
		actions.moveToElement(searchButton).perform();

		// wait until the search field is presented on the webpage and create an
		// element
		WebElement searchField = (new WebDriverWait(driver, 10))
				.until(ExpectedConditions.presenceOfElementLocated(By.name("s")));

		// puts the text "java" into the search field
		searchField.sendKeys("java");
		// submit the search (submit the form)
		searchField.submit();

		// wait 5 seconds and close the browser
		Thread.sleep(5000);
		driver.quit();
	}
}

```

## Selenium Chrome ç¤ºä¾‹

è¦ä½¿ Selenium ä½¿ç”¨ Google Chrome æµè§ˆå™¨ï¼Œæ‚¨éœ€è¦ä¸‹è½½å¹¶è¿è¡Œç‹¬ç«‹çš„ Chrome WebDriverã€‚

1.ä¸‹è½½é€‚ç”¨äºæ‚¨æ“ä½œç³»ç»Ÿçš„ [Chrome Web é©±åŠ¨ç¨‹åº](http://chromedriver.storage.googleapis.com/index.html?path=2.13/)ï¼Œè¯¥å½’æ¡£æ–‡ä»¶åŒ…å«ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶

2.å¯åŠ¨å¯æ‰§è¡Œæ–‡ä»¶ â€“ å®ƒå°†åœ¨ç«¯å£ 9515 ä¸Šè¿è¡Œæœ¬åœ°æœåŠ¡å™¨

3.åœ¨æ‚¨çš„ä»£ç ä¸­åƒè¿™æ ·åˆ›å»º WebDriverï¼š

```java
URL local = new URL("http://localhost:9515");
WebDriver driver = new RemoteWebDriver(local, DesiredCapabilities.chrome());
```

è¿™æ˜¯ä¸ä¸Šè¿°ä½¿ç”¨ Chrome ç½‘ç»œé©±åŠ¨ç¨‹åºç›¸åŒçš„ç¤ºä¾‹ï¼š

```java
import java.net.URL;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.interactions.Actions;
import org.openqa.selenium.remote.DesiredCapabilities;
import org.openqa.selenium.remote.RemoteWebDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;

public class SeleniumChromeExample {
	public static void main(String[] args) throws Exception {
		// create a Chrome Web Driver
		URL local = new URL("http://localhost:9515");
		WebDriver driver = new RemoteWebDriver(local, DesiredCapabilities.chrome());

		// open the browser and go to JavaTutorial Network Website
		driver.get("http://javatutorial.net");

		// find the search button on the page
		WebElement searchButton = driver.findElement(By
				.className("search-submit"));
		// create an action handler
		Actions actions = new Actions(driver);
		// use the action handler to move the cursor to given element
		actions.moveToElement(searchButton).perform();

		// wait until the search field is presented on the webpage and create an
		// element
		WebElement searchField = (new WebDriverWait(driver, 10))
				.until(ExpectedConditions.presenceOfElementLocated(By.name("s")));

		// puts the text "java" into the search field
		searchField.sendKeys("java");
		// submit the search (submit the form)
		searchField.submit();

		// wait 5 seconds and close the browser
		Thread.sleep(5000);
		driver.quit();
	}
}
```