# Java åŸºæœ¬æ­£åˆ™è¡¨è¾¾å¼

> åŸæ–‡ï¼š [https://javatutorial.net/basic-java-regular-expressions](https://javatutorial.net/basic-java-regular-expressions)

ä»Šå¤©ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºæ­£åˆ™è¡¨è¾¾å¼çš„åŸºç¡€çŸ¥è¯†ä»¥åŠå¦‚ä½•åœ¨ Java ä¸­ä½¿ç”¨å®ƒä»¬ã€‚

è¿™ä¸ä¼šæ˜¯è¯¦å°½ä¸”è¯¦ç»†çš„**æ­£åˆ™è¡¨è¾¾å¼æ•™ç¨‹**ã€‚ æ­£åˆ™è¡¨è¾¾å¼æœ¬èº«å°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„è¯é¢˜ã€‚ æˆ‘å°†ä»…å‘æ‚¨å±•ç¤ºåŸºç¡€çŸ¥è¯†ï¼Œå› æ­¤æ‚¨å¯ä»¥å¿«é€Ÿå¼€å§‹åœ¨é¡¹ç›®ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚ æ²¡æœ‰å†—é•¿çš„è§£é‡Šï¼Œæ²¡æœ‰ä»“ä¿ƒâ€¦â€¦ä»…ä¸¾å‡ ä¸ªä¾‹å­ï¼Œæ‚¨å°±å¯ä»¥å¼€å§‹äº†ã€‚

![regular expressions java](img/931242db6c160dd99cc3d51e78391e5e.jpg)

## å­—ç¬¦ä¸²ç±»ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼æ–¹æ³•

Java 8 ä¸­çš„`String`ç±»å…·æœ‰ä¸€äº›ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼ˆæˆ– regexï¼‰çš„æ–¹æ³•ã€‚ è¿™æ˜¯æ­¤æ–¹æ³•çš„åˆ—è¡¨ã€‚ æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥åœ¨ä¸­æ£€æŸ¥[å­—ç¬¦ä¸² javadoc](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html)ã€‚

*   `boolean String.matches(String regex)` â€“ åˆ¤æ–­æ­¤å­—ç¬¦ä¸²æ˜¯å¦ä¸ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
*   `String replaceAll(String regex, String replacement)` â€“ ç”¨ç»™å®šçš„æ›¿æ¢é¡¹æ›¿æ¢ä¸ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ­¤å­—ç¬¦ä¸²çš„æ¯ä¸ªå­å­—ç¬¦ä¸²
*   `String replaceFirst(String regex, String replacement)` â€“ ç”¨ç»™å®šçš„æ›¿æ¢æ›¿æ¢ä¸ç»™å®šçš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ­¤å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­å­—ç¬¦ä¸²
*   `String[] split(String regex)` â€“ å›´ç»•ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…é¡¹æ‹†åˆ†æ­¤å­—ç¬¦ä¸²
*   `String[] split(String regex, int limit)` â€“ å›´ç»•ç»™å®šæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…é¡¹æ‹†åˆ†æ­¤å­—ç¬¦ä¸²ã€‚ æ¨¡å¼è¢«â€œé™åˆ¶â€åº”ç”¨äº†æ¬¡æ•°

## åŒ¹é…ä¸€ä¸ªå­—ç¬¦

å‡è®¾æˆ‘ä»¬æœ‰ä»¥ä¸‹å­—ç¬¦ä¸²ï¼š`"Hello, itâ€™s me"`ï¼Œæˆ‘ä»¬æƒ³ç”¨ç©ºæ ¼åˆ†éš”å…¶ä¸­çš„å•è¯ã€‚

```java
String str = "Hello, it's me";
String[] words = str.split(" ");
for (String word : words) {
	System.out.println(word);
}
```

è¿™å°†äº§ç”Ÿä»¥ä¸‹è¾“å‡º

```java
Hello,
it's
me
```

ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬åƒè¿™æ ·åœ¨`"it's"`å’Œ`"me"`ä¹‹é—´æ”¾ç½®ä¸¤ä¸ªç©ºæ ¼æ€ä¹ˆåŠï¼š`"Hello, itâ€™s  me"`ï¼Ÿ

æˆ‘ä»¬ç¨‹åºçš„è¾“å‡ºå°†æ˜¯ï¼š

```java
Hello,
it's

me
```

é‚£ä¹ˆå¦‚ä½•é¿å…è¿™ç§æƒ…å†µå‘¢ï¼Ÿ ç»§ç»­é˜…è¯»ï¼Œæ‚¨ä¼šå‘ç°ğŸ™‚

## é‡å¤

`+`å·è¡¨ç¤ºåœ¨åŒä¸€è¡Œä¸­åŒ¹é… 1 ä¸ªæˆ–å¤šä¸ªã€‚

è®©æˆ‘ä»¬å›åˆ°å‰é¢çš„ç¤ºä¾‹`"Hello, itâ€™s  me"`ï¼Œåœ¨`"itâ€™s"`å’Œ`"me"`ä¹‹é—´æœ‰ä¸¤ä¸ªç©ºæ ¼ã€‚

åœ¨æˆ‘ä»¬çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†æ¨¡å¼æ›´æ”¹ä¸º` +`ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†è¿ç»­åŒ¹é… 1 ä¸ªæˆ–å¤šä¸ªç©ºæ ¼

```java
String str = "Hello, it's  me";
String[] words = str.split(" +");
for (String word : words) {
	System.out.println(word);
}
```

è¾“å‡ºä¸ºï¼š

```java
Hello,
it's
me
```

## è¿æ¥

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥è¿ç»­åŒ¹é…ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–å¤šä¸ªå­—ç¬¦ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ã€‚ ä¾‹å¦‚ï¼Œæ¨¡å¼`ing`å°†åŒ¹é…å¦‚ä¸‹ï¼š

```java
"Earning money is easy as counting 1 2 33. Nah!"
                               ***
```

æ¢å¥è¯è¯´ï¼Œå¦‚æœåœ¨æˆ‘ä»¬çš„å­—ç¬¦ä¸²ä¸­æä¾›`ing`ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²åŒ¹é…ã€‚

## ç»“åˆè¿æ¥å’Œé‡å¤

æ¨¡å¼ï¼š`ar+`å°†åŒ¹é…

```java
"arrows are not as fast as bullets"
 ***    **
```

## åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ª

æ¨¡å¼ï¼š`"it*"`å°†åŒ¹é…

```java
"itâ€˜s fun to learn just sitting in front of my computer"
 **                      ****   *
```

`*`ï¼ˆæ˜Ÿå·ï¼‰å°†åŒ¹é…`i`ï¼Œåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ª`t`ã€‚ åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒå°†åŒ¹é…`it`ï¼Œ`itt`ï¼Œ`i`ï¼Œ`i`

## äº¤æ›¿

æ¨¡å¼ï¼š`ea|in`å°†åŒ¹é…

```java
"earning money is easy as counting 1 2 33. Nah!"
 **  **           **           **
```

`|`ï¼ˆç«–çº¿ç¬¦å·ï¼‰å°†åŒ¹é…`ea`æˆ–`in`ã€‚

## å­—ç¬¦ç±»

æ¨¡å¼ï¼š`[123]`å°†åŒ¹é…

```java
"Earning money is easy as counting 1 2 33. Nah!"
                                   * * **
```

`[]`åŒ¹é…é›†åˆä¸­çš„ä»»ä½•å­—ç¬¦

## åŒ¹é…èŒƒå›´

æ¨¡å¼ï¼š`[1-3]`å°†åŒ¹é…

```java
"Earning money is easy as counting 1 2 33. Nah!"
                                   * * **
```

æ¨¡å¼ï¼š`[a-f]`å°†åŒ¹é…

```java
"Earning money is easy as counting 1 2 33. Nah!"
  *         *      *   *                    *
```

## æ’é™¤å­—ç¬¦

æ¨¡å¼ï¼š`[^a-z123]`å°†åŒ¹é…

```java
"Earning money is easy as counting 1 2 33. Nah!"
 *                                       * *  *
```

`^`è¡¨ç¤ºæ­¤é›†åˆä¸­æ²¡æœ‰ä»»ä½•å­—ç¬¦

## éªŒè¯ç”µå­é‚®ä»¶åœ°å€æ­£åˆ™è¡¨è¾¾å¼

æˆ‘å°†ä¸¾ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨ Java éªŒè¯ç”µå­é‚®ä»¶åœ°å€ã€‚ è¿™æ›´å¤æ‚ï¼Œä½†å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼š

```java
^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$;
```

å’Œå®ç°ï¼š

```java
String email = "info@javatutorial.net";
if (email.matches("^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$;")) {
	System.out.println(email + "is a valid e-mail address");
} else {
	System.out.println(email + "is invalid e-mail address");
}
```